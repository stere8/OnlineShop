@page
@model CheckoutModel
@{
    ViewData["Title"] = "Checkout";
}

<h2>Checkout</h2>

@if (TempData["ErrorMessage"] != null)
{
    <p style="color: red;">@TempData["ErrorMessage"]</p>
}

<form method="post">
    <h3>Select Payment Method</h3>

    <div>
        <input type="radio" id="card" name="PaymentMethod" value="Card" checked>
        <label for="card">Credit/Debit Card</label>
    </div>

    <div>
        <input type="radio" id="paypal" name="PaymentMethod" value="PayPal">
        <label for="paypal">PayPal</label>
    </div>

    <div id="card-details">
        <h4>Enter Card Details</h4>
        <label>Card Number:</label>
        <input type="text" name="CardNumber" required>

        <label>Expiry Date:</label>
        <input type="text" name="ExpiryDate" placeholder="MM/YY" required>

        <label>CVV:</label>
        <input type="text" name="CVV" required>
    </div>

    <button type="submit">Proceed</button>
</form>

<script>
    document.querySelectorAll('input[name="PaymentMethod"]').forEach((input) => {
        input.addEventListener('change', function() {
            document.getElementById('card-details').style.display = this.value === 'Card' ? 'block' : 'none';
        });
    });
</script>
